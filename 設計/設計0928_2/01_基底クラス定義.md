# 01_基底クラス定義

基本的なValueObject、ID型、座標型などの基盤クラス群を定義します。

```mermaid
classDiagram
    direction RL
    %% ==========  ID系 Value Object  ==========
    class I配置物ID {
        <<interface>>
        +同値比較(他: I配置物ID): boolean
        +toString(): string
    }
    
    class 配置物ID {
        -値: string
        +constructor()
        +同値比較(他: 配置物ID): boolean
        +toString(): string
    }
    
    class ノードID {
        -値: string
        +constructor()
        +同値比較(他: ノードID): boolean
        +toString(): string
    }
    
    class エッジID {
        -値: string
        +constructor()
        +同値比較(他: エッジID): boolean
        +toString(): string
    }
    
    %% ==========  座標系 Value Object  ==========
    class I座標点 {
        <<interface>>
        +x: Px長さ
        +y: Px長さ
        +同値比較(他: I座標点): boolean
    }
    
    class 描画座標点 {
        +x: Px長さ
        +y: Px長さ
        +constructor(x: Px長さ, y: Px長さ)
        +to画面座標点(): 画面座標点
        +to図形内座標点(基準: 図形内基準座標): 図形内座標点
        +同値比較(他: 描画座標点): boolean
    }
    
    class 画面座標点 {
        +x: Px長さ
        +y: Px長さ
        +constructor(x: Px長さ, y: Px長さ)
        +to描画座標点(基準: 描画基準座標): 描画座標点
        +to図形内座標点(基準: 図形内基準座標): 図形内座標点
        +同値比較(他: 画面座標点): boolean
    }
    
    class 図形内座標点 {
        +x: Px長さ
        +y: Px長さ
        +constructor(x: Px長さ, y: Px長さ)
        +to描画座標点(): 描画座標点
        +to画面座標点(): 画面座標点
        +同値比較(他: 図形内座標点): boolean
    }
    
    %% ==========  サイズ系 Value Object  ==========
    class サイズ {
        +width: Px長さ
        +height: Px長さ
        +constructor(width: Px長さ, height: Px長さ)
        +同値比較(他: サイズ): boolean
    }
    
    class Px長さ {
        +値: number
        +constructor(値: number)
        +加算(他: Px長さ): Px長さ
        +減算(他: Px長さ): Px長さ
        +乗算(他: number): Px長さ
        +同値比較(他: Px長さ): boolean
        +toString(): string
    }
    
    %% ==========  配置物基本インターフェース  ==========
    class I配置物 {
        <<interface>>
        +配置物ID: 配置物ID
        +配置物種別: '付箋' | 'まっすぐ矢印' | 'なめらか曲線矢印' | '折れ線矢印' | 'グループミニキャンバス'
    }
    
    %% ==========  関係性  ==========
    配置物ID ..|> I配置物ID : 実装
    ノードID ..|> I配置物ID : 実装
    エッジID ..|> I配置物ID : 実装
    
    描画座標点 ..|> I座標点 : 実装
    画面座標点 ..|> I座標点 : 実装
    図形内座標点 ..|> I座標点 : 実装
    
    サイズ "2" --> "1" Px長さ : 有する
    I座標点 "2" --> "1" Px長さ : 有する
```

## 説明

### ID系 Value Object
- すべてのIDは一意性を保証
- 同値比較や文字列変換をサポート

### 座標系 Value Object
- 3つの座標系間で相互変換可能
- 型安全性を確保し、座標系の混同を防止

### 配置物基本インターフェース
- すべての配置オブジェクトが実装すべきインターフェース
- タイプセーフな種別判定を可能にします

---
[← README に戻る](./README.md)